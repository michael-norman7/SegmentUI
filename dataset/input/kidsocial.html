<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KidSocial - Registration</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        'kid-primary': '#6366f1',
                        'kid-secondary': '#3b82f6',
                        'kid-accent': '#f472b6',
                        'kid-background': '#f0f9ff',
                        'kid-text-dark': '#1e293b',
                        'kid-text-light': '#6b7280',
                        'kid-success': '#34d399',
                        'kid-error': '#f87171',
                        'kid-warning': '#fcd34d',
                        'kid-info': '#38bdf8',
                    },
                    keyframes: {
                        'slide-in-bottom': {
                            '0%': { transform: 'translateY(50px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        'slide-out-top': {
                            '0%': { transform: 'translateY(0)', opacity: '1' },
                            '100%': { transform: 'translateY(-50px)', opacity: '0' },
                        },
                        'pop-in': {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '70%': { transform: 'scale(1.1)', opacity: '0.9' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        'pop-out': {
                            '0%': { transform: 'scale(1)', opacity: '1' },
                            '100%': { transform: 'scale(0.8)', opacity: '0' },
                        }
                    },
                    animation: {
                        'slide-in-bottom': 'slide-in-bottom 0.5s ease-out forwards',
                        'slide-out-top': 'slide-out-top 0.3s ease-in forwards',
                        'pop-in': 'pop-in 0.4s ease-out forwards',
                        'pop-out': 'pop-out 0.3s ease-in forwards',
                    }
                },
            },
        }
    </script>
    <style>
        .step-container {
            animation: slide-in-bottom 0.5s ease-out forwards;
        }
        .step-container.slide-out {
            animation: slide-out-top 0.3s ease-in forwards;
        }
        .pop-in {
            animation: pop-in 0.4s ease-out forwards;
        }
        .pop-out {
            animation: pop-out 0.3s ease-in forwards;
        }
    </style>
</head>
<body class="bg-kid-background font-poppins">
    <div id="app" class="h-screen flex justify-center items-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full overflow-hidden">
            <div id="step-1" class="step-container">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-kid-primary mb-2 pop-in"><i class="fa-solid fa-rocket text-kid-secondary mr-2"></i> Welcome to KidSocial!</h2>
                    <p class="text-kid-text-light pop-in delay-100">Let's create your awesome profile!</p>
                </div>
                <div class="mb-6 pop-in delay-200">
                    <label for="username" class="block text-kid-text-dark text-sm font-bold mb-2">Pick a cool username</label>
                    <input type="text" id="username" placeholder="Username" class="shadow appearance-none border rounded w-full py-2 px-3 text-kid-text-dark leading-tight focus:outline-none focus:shadow-outline border-kid-primary">
                </div>
                <div class="mb-8 pop-in delay-300">
                    <label class="block text-kid-text-dark text-sm font-bold mb-2">Choose your avatar</label>
                    <div class="flex justify-around">
                        <button onclick="selectAvatar('avatar1')" class="avatar-button hover:scale-110 transition-transform"><img src="https://picsum.photos/id/1/100/100" alt="Avatar 1" class="rounded-full border-4 border-transparent hover:border-kid-accent avatar-image" id="avatar1"></button>
                        <button onclick="selectAvatar('avatar2')" class="avatar-button hover:scale-110 transition-transform"><img src="https://picsum.photos/id/2/100/100" alt="Avatar 2" class="rounded-full border-4 border-transparent hover:border-kid-accent avatar-image" id="avatar2"></button>
                        <button onclick="selectAvatar('avatar3')" class="avatar-button hover:scale-110 transition-transform"><img src="https://picsum.photos/id/3/100/100" alt="Avatar 3" class="rounded-full border-4 border-transparent hover:border-kid-accent avatar-image" id="avatar3"></button>
                    </div>
                    <input type="hidden" id="selected-avatar" value="">
                </div>
                <div class="flex items-center justify-between pop-in delay-400">
                    <button onclick="nextStep(1, 2)" class="bg-kid-primary hover:bg-kid-secondary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-right mr-2"></i> Next</button>
                </div>
            </div>

            <div id="step-2" class="step-container hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-kid-primary mb-2 pop-in"><i class="fa-solid fa-cake-candles text-kid-accent mr-2"></i> How old are you?</h2>
                    <p class="text-kid-text-light pop-in delay-100">To make sure it's safe and fun for everyone!</p>
                </div>
                <div class="mb-6 pop-in delay-200">
                    <label for="age" class="block text-kid-text-dark text-sm font-bold mb-2">Your age</label>
                    <input type="number" id="age" placeholder="Age" class="shadow appearance-none border rounded w-full py-2 px-3 text-kid-text-dark leading-tight focus:outline-none focus:shadow-outline border-kid-primary">
                </div>
                <div class="flex items-center justify-between pop-in delay-300">
                    <button onclick="prevStep(2, 1)" class="bg-gray-300 hover:bg-gray-400 text-kid-text-dark font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-left mr-2"></i> Back</button>
                    <button onclick="nextStep(2, 3)" class="bg-kid-primary hover:bg-kid-secondary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-right mr-2"></i> Next</button>
                </div>
            </div>

            <div id="step-3" class="step-container hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-kid-primary mb-2 pop-in"><i class="fa-solid fa-envelope text-kid-info mr-2"></i> Parent's Email</h2>
                    <p class="text-kid-text-light pop-in delay-100">We need this to keep your parent in the loop.</p>
                </div>
                <div class="mb-6 pop-in delay-200">
                    <label for="parent-email" class="block text-kid-text-dark text-sm font-bold mb-2">Parent's Email</label>
                    <input type="email" id="parent-email" placeholder="parent@email.com" class="shadow appearance-none border rounded w-full py-2 px-3 text-kid-text-dark leading-tight focus:outline-none focus:shadow-outline border-kid-primary">
                </div>
                <div class="flex items-center justify-between pop-in delay-300">
                    <button onclick="prevStep(3, 2)" class="bg-gray-300 hover:bg-gray-400 text-kid-text-dark font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-left mr-2"></i> Back</button>
                    <button onclick="nextStep(3, 4)" class="bg-kid-primary hover:bg-kid-secondary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-right mr-2"></i> Next</button>
                </div>
            </div>

            <div id="step-4" class="step-container hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-kid-primary mb-2 pop-in"><i class="fa-solid fa-lock text-kid-warning mr-2"></i> Create Password</h2>
                    <p class="text-kid-text-light pop-in delay-100">Keep your account safe with a strong password!</p>
                </div>
                <div class="mb-6 pop-in delay-200">
                    <label for="password" class="block text-kid-text-dark text-sm font-bold mb-2">Password</label>
                    <input type="password" id="password" placeholder="Password" class="shadow appearance-none border rounded w-full py-2 px-3 text-kid-text-dark leading-tight focus:outline-none focus:shadow-outline border-kid-primary">
                </div>
                <div class="mb-6 pop-in delay-300">
                    <label for="confirm-password" class="block text-kid-text-dark text-sm font-bold mb-2">Confirm Password</label>
                    <input type="password" id="confirm-password" placeholder="Confirm Password" class="shadow appearance-none border rounded w-full py-2 px-3 text-kid-text-dark leading-tight focus:outline-none focus:shadow-outline border-kid-primary">
                </div>
                <div class="flex items-center justify-between pop-in delay-400">
                    <button onclick="prevStep(4, 3)" class="bg-gray-300 hover:bg-gray-400 text-kid-text-dark font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-left mr-2"></i> Back</button>
                    <button onclick="nextStep(4, 5)" class="bg-kid-primary hover:bg-kid-secondary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-right mr-2"></i> Next</button>
                </div>
            </div>

            <div id="step-5" class="step-container hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-kid-primary mb-2 pop-in"><i class="fa-solid fa-file-contract text-kid-success mr-2"></i> Almost there!</h2>
                    <p class="text-kid-text-light pop-in delay-100">Just agree to our super simple rules.</p>
                </div>
                <div class="mb-6 pop-in delay-200">
                    <div class="flex items-center">
                        <input type="checkbox" id="terms" class="form-checkbox h-5 w-5 text-kid-primary rounded border-gray-300 focus:ring-kid-primary">
                        <label for="terms" class="ml-2 block text-sm text-kid-text-dark">I agree to the <a href="#" class="text-kid-secondary hover:underline">Terms of Service</a> and <a href="#" class="text-kid-secondary hover:underline">Privacy Policy</a></label>
                    </div>
                </div>
                <div class="flex items-center justify-between pop-in delay-300">
                    <button onclick="prevStep(5, 4)" class="bg-gray-300 hover:bg-gray-400 text-kid-text-dark font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-arrow-left mr-2"></i> Back</button>
                    <button onclick="submitRegistration()" class="bg-kid-success hover:bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors"><i class="fa-solid fa-check mr-2"></i> Register</button>
                </div>
            </div>

            <div id="step-success" class="step-container hidden text-center">
                <div class="text-center mb-8 pop-in">
                    <h2 class="text-4xl font-bold text-kid-success mb-4"><i class="fa-solid fa-party-popper text-kid-accent"></i> Yay! You're in!</h2>
                    <p class="text-kid-text-light mb-6">Get ready to explore KidSocial and have fun!</p>
                    <img src="https://picsum.photos/id/4/200/200" alt="Success!" class="rounded-full mx-auto mb-4 pop-in delay-200">
                    <p class="text-kid-text-dark font-semibold pop-in delay-300">Welcome aboard, <span id="welcome-username"></span>!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedAvatarValue = '';

        function nextStep(currentStepNum, nextStepNum) {
            const currentStepElement = document.getElementById(`step-${currentStepNum}`);
            const nextStepElement = document.getElementById(`step-${nextStepNum}`);

            if (currentStepNum === 1) {
                const usernameInput = document.getElementById('username');
                if (!usernameInput.value.trim()) {
                    alert('Please enter a username.');
                    return;
                }
                if (!selectedAvatarValue) {
                    alert('Please select an avatar.');
                    return;
                }
            }
            if (currentStepNum === 2) {
                const ageInput = document.getElementById('age');
                if (!ageInput.value.trim() || isNaN(ageInput.value) || parseInt(ageInput.value) <= 0) {
                    alert('Please enter a valid age.');
                    return;
                }
            }
            if (currentStepNum === 3) {
                const parentEmailInput = document.getElementById('parent-email');
                if (!parentEmailInput.value.trim() || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(parentEmailInput.value)) {
                    alert('Please enter a valid parent email.');
                    return;
                }
            }
            if (currentStepNum === 4) {
                const passwordInput = document.getElementById('password');
                const confirmPasswordInput = document.getElementById('confirm-password');
                if (passwordInput.value.length < 6) {
                    alert('Password must be at least 6 characters long.');
                    return;
                }
                if (passwordInput.value !== confirmPasswordInput.value) {
                    alert('Passwords do not match.');
                    return;
                }
            }
            if (currentStepNum === 5) {
                const termsCheckbox = document.getElementById('terms');
                if (!termsCheckbox.checked) {
                    alert('Please agree to the Terms of Service and Privacy Policy.');
                    return;
                }
            }


            currentStepElement.classList.add('slide-out');
            setTimeout(() => {
                currentStepElement.classList.add('hidden');
                currentStepElement.classList.remove('slide-out');
                nextStepElement.classList.remove('hidden');
            }, 300);
            currentStep = nextStepNum;
        }

        function prevStep(currentStepNum, prevStepNum) {
            const currentStepElement = document.getElementById(`step-${currentStepNum}`);
            const prevStepElement = document.getElementById(`step-${prevStepNum}`);

            currentStepElement.classList.add('slide-out');
            setTimeout(() => {
                currentStepElement.classList.add('hidden');
                currentStepElement.classList.remove('slide-out');
                prevStepElement.classList.remove('hidden');
            }, 300);
            currentStep = prevStepNum;
        }

        function selectAvatar(avatarId) {
            document.querySelectorAll('.avatar-image').forEach(img => {
                img.classList.remove('border-kid-primary');
                img.classList.add('border-transparent');
            });
            const selectedImage = document.getElementById(avatarId);
            selectedImage.classList.remove('border-transparent');
            selectedImage.classList.add('border-kid-primary');
            selectedAvatarValue = avatarId;
            document.getElementById('selected-avatar').value = avatarId;
        }

        function submitRegistration() {
            const username = document.getElementById('username').value;
            document.getElementById('welcome-username').innerText = username;

            const step5Element = document.getElementById('step-5');
            const successStepElement = document.getElementById('step-success');

            step5Element.classList.add('pop-out');
            setTimeout(() => {
                step5Element.classList.add('hidden');
                step5Element.classList.remove('pop-out');
                successStepElement.classList.remove('hidden');
            }, 300);
        }
    </script>
</body>
</html>